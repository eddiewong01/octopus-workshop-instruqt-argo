process_template "run-a-process-template" {
    name = "Run a Process Template"
    process_template_slug = "flyway-database-migration"
    version_mask = "3.X"

    package_parameter "parameter.database.package" {
        feed = "octopus-server-built-in"
        package_id = "sample.database"
    }

    parameter "parameter.worker.pool" {
        value = "WorkerPools-110"
    }

    parameter "parameter.package.path" {
        value = "filesystem:#{Octopus.Action.Package[Flyway.Package.Value].ExtractedPath}/src/Database"
    }

    parameter "parameter.database.name" {
        value = "#{SQLServer.Database.Name}"
    }

    parameter "parameter.database.user" {
        value = "#{SQLServer.Database.UserName}"
    }

    parameter "parameter.database.password" {
        value = "#{SQLServer.Database.Password}"
    }

    parameter "parameter.database.host" {
        value = "#{SQLServer.Database.Host}"
    }

    parameter "parameter.container.feed" {
        value = "Feeds-1113"
    }

    parameter "paramater.review.environement" {
        value = "Environments-66"
    }

    parameter "paramater.flyway.pat" {
        value = "#{Flyway.PAT}"
    }
}